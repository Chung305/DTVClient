<button type="button" class="btn btn-primary btn-lg" (click)="displayReportForm()">Report a Concern</button>

<div class="container-fluid">
  <form *ngIf="!newReportFormIsCollapsed" [formGroup]="workOrderForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="col form-group">
        <input type="text" formControlName="firstName" class="form-control" id="firstName" required
          placeholder="First name">
        <div *ngIf="firstName.errors?.pattern">First name not valid</div>
        <div *ngIf="firstName.errors?.required">*First name required</div>
      </div>
      <div class="col form-group">
        <input type="text" formControlName="lastName" class="form-control" id="lastName" required
          placeholder="Last name">
        <div *ngIf="lastName.errors?.pattern">Last name not valid</div>
        <div *ngIf="firstName.errors?.required">*Last name required</div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-12">
        <input type="text" formControlName="address" class="form-control" id="address" required placeholder="Address">
        <div *ngIf="address.errors?.required">*Address required</div>
      </div>
      <div class="form-group col-12">
        <textarea class="form-control" formControlName="description" id="description" rows="3"
          placeholder="Write a short description of your concern..."></textarea>
        <div *ngIf="description.errors?.required">*Description required</div>
      </div>
      <div formArrayName="submittedFiles"
      *ngFor ="let submittedFile of workOrderForm.get('submittedFiles').controls; let i = index;">
        <div [formGroupName]= "i">
          <input formControlName="newFile" placeholder="Add File">
          <button type="addFile" class="btn btn-primary" (click)="addFile()"></button>
        </div>
        Chosen name: {{workOrderForm.controls.submittedFiles.controls[i].controls.name.value}}
        </div>
        <br><br><br>
    </div>
    <div class="form-row">
      <div class="form-group col-sm-6">
        <button type="submit" class="btn btn-primary" [disabled]="!createWorkOrderForm.valid">Send Report</button>
      </div>
      <div class="col-sm-6">
        <button type="submit" class="btn btn-primary" (click)="cancel()">Cancel</button>
      </div>
    </div>
  </form>
</div>